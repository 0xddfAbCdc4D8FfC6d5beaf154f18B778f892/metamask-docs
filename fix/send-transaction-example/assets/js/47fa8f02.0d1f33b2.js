"use strict";(self.webpackChunkmetamask_docs=self.webpackChunkmetamask_docs||[]).push([[2971],{15680:(t,e,a)=>{a.d(e,{xA:()=>p,yg:()=>h});var r=a(96540);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},o=Object.keys(t);for(r=0;r<o.length;r++)a=o[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var s=r.createContext({}),l=function(t){var e=r.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):c(c({},e),t)),a},p=function(t){var e=l(t.components);return r.createElement(s.Provider,{value:e},t.children)},d="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(t,e){var a=t.components,n=t.mdxType,o=t.originalType,s=t.parentName,p=i(t,["components","mdxType","originalType","parentName"]),d=l(a),u=n,h=d["".concat(s,".").concat(u)]||d[u]||m[u]||o;return a?r.createElement(h,c(c({ref:e},p),{},{components:a})):r.createElement(h,c({ref:e},p))}));function h(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var o=a.length,c=new Array(o);c[0]=u;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i[d]="string"==typeof t?t:n,c[1]=i;for(var l=2;l<o;l++)c[l]=a[l];return r.createElement.apply(null,c)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},71639:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var r=a(58168),n=(a(96540),a(15680));const o={description:"Learn about interacting with smart contracts.",sidebar_position:7},c="Smart contracts",i={unversionedId:"concepts/smart-contracts",id:"concepts/smart-contracts",title:"Smart contracts",description:"Learn about interacting with smart contracts.",source:"@site/wallet/concepts/smart-contracts.md",sourceDirName:"concepts",slug:"/concepts/smart-contracts",permalink:"/fix/send-transaction-example/wallet/concepts/smart-contracts",draft:!1,editUrl:"https://github.com/MetaMask/metamask-docs/edit/main/wallet/concepts/smart-contracts.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{description:"Learn about interacting with smart contracts.",sidebar_position:7},sidebar:"walletSidebar",previous:{title:"Wallet interoperability",permalink:"/fix/send-transaction-example/wallet/concepts/wallet-interoperability"},next:{title:"Tutorials",permalink:"/fix/send-transaction-example/wallet/tutorials"}},s={},l=[{value:"Contract network",id:"contract-network",level:2},{value:"Contract address",id:"contract-address",level:2},{value:"Contract ABI",id:"contract-abi",level:2},{value:"Contract bytecode",id:"contract-bytecode",level:2},{value:"Contract source code",id:"contract-source-code",level:2}],p={toc:l},d="wrapper";function m(t){let{components:e,...a}=t;return(0,n.yg)(d,(0,r.A)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"smart-contracts"},"Smart contracts"),(0,n.yg)("p",null,"This is a high-level overview of interacting with smart contracts.\nYou can also see how to\n",(0,n.yg)("a",{parentName:"p",href:"/fix/send-transaction-example/wallet/how-to/use-sdk/gaming/unity/smart-contracts/"},"interact with smart contracts from your Unity game"),"."),(0,n.yg)("p",null,"To interact with a smart contract, your dapp needs the following information:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"#contract-network"},"Contract network")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"#contract-address"},"Contract address")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"#contract-abi"},"Contract ABI")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"#contract-bytecode"},"Contract bytecode")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"#contract-source-code"},"Contract source code"))),(0,n.yg)("h2",{id:"contract-network"},"Contract network"),(0,n.yg)("p",null,"If you're not connected to the right network, you can't send transactions to your contract.\nMany dapp developers deploy their contract to a testnet first, in order to avoid potentially\ndisastrous fees if something goes wrong during development and testing on Mainnet."),(0,n.yg)("p",null,"Regardless of which network you deploy your final dapp on, your users must be able to access it.\nUse the ",(0,n.yg)("a",{parentName:"p",href:"/wallet/reference/wallet_switchethereumchain"},(0,n.yg)("inlineCode",{parentName:"a"},"wallet_switchEthereumChain"))," and\n",(0,n.yg)("a",{parentName:"p",href:"/wallet/reference/wallet_addethereumchain"},(0,n.yg)("inlineCode",{parentName:"a"},"wallet_addEthereumChain"))," RPC methods to prompt\nthe user to add a chain that you suggest, and switch to it using a confirmation dialogue."),(0,n.yg)("h2",{id:"contract-address"},"Contract address"),(0,n.yg)("p",null,"Every account in Ethereum has an address, whether it's an external key-pair account or a smart contract.\nFor any smart contract library to communicate with your contracts, a smart contract  must know the exact address."),(0,n.yg)("p",null,"Read about\n",(0,n.yg)("a",{parentName:"p",href:"https://metamask.zendesk.com/hc/en-us/articles/360059683451-How-to-view-or-add-custom-token-contract-address"},"how to find a token contact address"),"."),(0,n.yg)("h2",{id:"contract-abi"},"Contract ABI"),(0,n.yg)("p",null,"In Ethereum, the ",(0,n.yg)("a",{parentName:"p",href:"https://solidity.readthedocs.io/en/develop/abi-spec.html"},"ABI specification")," is a\nway to encode the interface of a smart contract that's comprehensible to your user interface.\nThe ABI is an array of method-describing objects, and when you feed this and the address into a\ncontract-abstraction library, the ABI tells those libraries about what methods to provide, and\nhow to compose transactions to call those methods."),(0,n.yg)("p",null,"Example libraries include the following:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://www.npmjs.com/package/ethers"},"Ethers")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://www.npmjs.com/package/web3"},"web3.js")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://framework.embarklabs.io/"},"Embark")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://www.npmjs.com/package/ethjs"},"ethjs")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://hardhat.org/"},"Hardhat"))),(0,n.yg)("h2",{id:"contract-bytecode"},"Contract bytecode"),(0,n.yg)("p",null,"If your dapp publishes a new pre-compiled smart contract, it might need to include some bytecode.\nYou don't know the contract address in advance; you must publish the contract, watch for the\ntransaction to be processed, and then extract the final contract's address from the completed transaction."),(0,n.yg)("p",null,"If you publish a contract from bytecode, you still need an ",(0,n.yg)("a",{parentName:"p",href:"#contract-abi"},"ABI")," to interact with it.\nThe bytecode doesn't describe how to interact with the final contract."),(0,n.yg)("h2",{id:"contract-source-code"},"Contract source code"),(0,n.yg)("p",null,"If your dapp allows users to edit smart contract source code and compile it, similar to\n",(0,n.yg)("a",{parentName:"p",href:"https://remix.ethereum.org/"},"Remix"),", you can import a whole compiler.\nYou derive your bytecode and ABI from that source code, and eventually derive the contract's address\nfrom the completed transaction, where that bytecode is published."))}m.isMDXComponent=!0}}]);