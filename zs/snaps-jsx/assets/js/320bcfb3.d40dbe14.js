"use strict";(self.webpackChunkmetamask_docs=self.webpackChunkmetamask_docs||[]).push([[2008],{21405:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>u,toc:()=>p});var t=n(74848),s=n(28453),r=n(40267),o=n(19365);const i={description:"Display a dedicated UI page in MetaMask for your Snap.",sidebar_position:3},l="Home pages",u={id:"features/custom-ui/home-pages",title:"Home pages",description:"Display a dedicated UI page in MetaMask for your Snap.",source:"@site/snaps/features/custom-ui/home-pages.md",sourceDirName:"features/custom-ui",slug:"/features/custom-ui/home-pages",permalink:"/zs/snaps-jsx/snaps/features/custom-ui/home-pages",draft:!1,unlisted:!1,editUrl:"https://github.com/MetaMask/metamask-docs/edit/main/snaps/features/custom-ui/home-pages.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{description:"Display a dedicated UI page in MetaMask for your Snap.",sidebar_position:3},sidebar:"snapsSidebar",previous:{title:"Dialogs",permalink:"/zs/snaps-jsx/snaps/features/custom-ui/dialogs"},next:{title:"Custom UI with JSX",permalink:"/zs/snaps-jsx/snaps/features/custom-ui/with-jsx"}},c={},p=[{value:"Steps",id:"steps",level:2},{value:"1. Request permission to display a home page",id:"1-request-permission-to-display-a-home-page",level:3},{value:"2. Create a home page",id:"2-create-a-home-page",level:3},{value:"Example",id:"example",level:2}];function d(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.h1,{id:"home-pages",children:"Home pages"}),"\n",(0,t.jsxs)(a.p,{children:['You can display a dedicated UI, or "home page," for your Snap within MetaMask.\nThis is useful for introducing your Snap to end users.\nUsers can access your home page through the Snaps menu in MetaMask.\nSnap home pages can contain ',(0,t.jsx)(a.a,{href:"/zs/snaps-jsx/snaps/features/custom-ui/",children:"custom UI"})," and ",(0,t.jsx)(a.a,{href:"/zs/snaps-jsx/snaps/features/custom-ui/interactive-ui",children:"interactive UI"}),"\ncomponents."]}),"\n",(0,t.jsx)(a.h2,{id:"steps",children:"Steps"}),"\n",(0,t.jsx)(a.h3,{id:"1-request-permission-to-display-a-home-page",children:"1. Request permission to display a home page"}),"\n",(0,t.jsxs)(a.p,{children:["Request the ",(0,t.jsx)(a.a,{href:"/zs/snaps-jsx/snaps/reference/permissions#endowmentpage-home",children:(0,t.jsx)(a.code,{children:"endowment:page-home"})})," permission.\nAdd the following to your Snap's manifest file:"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-json",metastring:'title="snap.manifest.json"',children:'"initialPermissions": {\n  "endowment:page-home": {}\n}\n'})}),"\n",(0,t.jsx)(a.h3,{id:"2-create-a-home-page",children:"2. Create a home page"}),"\n",(0,t.jsxs)(a.p,{children:["Expose an ",(0,t.jsx)(a.a,{href:"/zs/snaps-jsx/snaps/reference/entry-points#onhomepage",children:(0,t.jsx)(a.code,{children:"onHomePage"})})," entry point, which returns the\ncustom or interactive UI to be shown.\nMetaMask calls this method when a user selects your Snap name in the Snaps menu."]}),"\n",(0,t.jsx)(a.p,{children:"The following example displays custom UI that welcomes the user to the Snap's home page:"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsx)(o.A,{value:"Functions",children:(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-typescript",metastring:'title="index.ts"',children:'import type { OnHomePageHandler } from "@metamask/snaps-sdk";\nimport { panel, text, heading } from "@metamask/snaps-sdk";\n\nexport const onHomePage: OnHomePageHandler = async () => {\n  return {\n    content: panel([\n      heading("Hello world!"),\n      text("Welcome to my Snap home page!"),\n    ]),\n  };\n};\n'})})}),(0,t.jsx)(o.A,{value:"JSX",flaskOnly:!0,children:(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-tsx",metastring:'title="index.tsx"',children:"import type { OnHomePageHandler } from \"@metamask/snaps-sdk\";\nimport { Box, Heading, Text } from '@metamask/snaps-sdk/jsx';\n\nexport const onHomePage: OnHomePageHandler = async () => {\n  return {\n    content: (\n      <Box>\n        <Heading>Hello world!</Heading>\n        <Text>Welcome to my Snap home page!</Text>\n      </Box>\n    ),\n  };\n};\n"})})})]}),"\n",(0,t.jsx)("p",{align:"center",children:(0,t.jsx)("img",{src:n(73790).A,alt:"Home page example",width:"360px",style:{border:"1px solid #DCDCDC"}})}),"\n",(0,t.jsx)(a.h2,{id:"example",children:"Example"}),"\n",(0,t.jsxs)(a.p,{children:["See the ",(0,t.jsx)(a.a,{href:"https://github.com/MetaMask/snaps/tree/main/packages/examples/packages/home-page",children:(0,t.jsx)(a.code,{children:"@metamask/home-page-example-snap"})}),"\npackage for a full example of implementing a Snap home page."]})]})}function m(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},19365:(e,a,n)=>{n.d(a,{A:()=>o});n(96540);var t=n(18215);const s={tabItem:"tabItem_Ymn6"};var r=n(74848);function o(e){let{children:a,hidden:n,className:o}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,o),hidden:n,children:a})}},40267:(e,a,n)=>{n.d(a,{A:()=>w});var t=n(96540),s=n(20053),r=n(23104),o=n(56347),i=n(205),l=n(57485),u=n(31682),c=n(89466);function p(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:a,children:n}=e;return(0,t.useMemo)((()=>{const e=a??function(e){return p(e).map((e=>{let{props:{value:a,label:n,attributes:t,default:s}}=e;return{value:a,label:n,attributes:t,default:s}}))}(n);return function(e){const a=(0,u.X)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,n])}function m(e){let{value:a,tabValues:n}=e;return n.some((e=>e.value===a))}function h(e){let{queryString:a=!1,groupId:n}=e;const s=(0,o.W6)(),r=function(e){let{queryString:a=!1,groupId:n}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:a,groupId:n});return[(0,l.aZ)(r),(0,t.useCallback)((e=>{if(!r)return;const a=new URLSearchParams(s.location.search);a.set(r,e),s.replace({...s.location,search:a.toString()})}),[r,s])]}function f(e){const{defaultValue:a,queryString:n=!1,groupId:s}=e,r=d(e),[o,l]=(0,t.useState)((()=>function(e){let{defaultValue:a,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!m({value:a,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:a,tabValues:r}))),[u,p]=h({queryString:n,groupId:s}),[f,g]=function(e){let{groupId:a}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(a),[s,r]=(0,c.Dv)(n);return[s,(0,t.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:s}),x=(()=>{const e=u??f;return m({value:e,tabValues:r})?e:null})();(0,i.A)((()=>{x&&l(x)}),[x]);return{selectedValue:o,selectValue:(0,t.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),p(e),g(e)}),[p,g,r]),tabValues:r}}var g=n(92303);const x={tabList:"tabList_TRJ7",tabItem:"tabItem_hGfb",flaskOnly:"flaskOnly_bhbK"};var b=n(74848),v=n(96763);function y(e){let{className:a,block:n,selectedValue:t,selectValue:o,tabValues:i}=e;v.log(i);const l=[],{blockElementScrollPositionUntilNextRender:u}=(0,r.a_)(),c=e=>{const a=e.currentTarget,n=l.indexOf(a),s=i[n].value;s!==t&&(u(a),o(s))},p=e=>{let a=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;a=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;a=l[n]??l[l.length-1];break}}a?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},a),children:i.map((e=>{let{value:a,label:n,attributes:r}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:t===a?0:-1,"aria-selected":t===a,ref:e=>l.push(e),onKeyDown:p,onClick:c,...r,className:(0,s.A)("tabs__item",x.tabItem,r?.className,{"tabs__item--active":t===a}),children:n??a},a)}))})}function j(e){let{lazy:a,children:n,selectedValue:s}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(a){const e=r.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:r.map(((e,a)=>(0,t.cloneElement)(e,{key:a,hidden:e.props.value!==s})))})}function k(e){const a=f(e),n={...a,tabValues:a.tabValues.map(((a,n)=>({...a,attributes:{...a.attributes,className:(0,s.A)(a.attributes?.className,{[x.flaskOnly]:e.children[n]?.props.flaskOnly})}})))};return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,b.jsx)(y,{...n,...e}),(0,b.jsx)(j,{...n,...e})]})}function w(e){const a=(0,g.A)();return(0,b.jsx)(k,{...e,children:p(e.children)},String(a))}},20053:(e,a,n)=>{function t(e){var a,n,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e))for(a=0;a<e.length;a++)e[a]&&(n=t(e[a]))&&(s&&(s+=" "),s+=n);else for(a in e)e[a]&&(s&&(s+=" "),s+=a);return s}n.d(a,{A:()=>s});const s=function(){for(var e,a,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(a=t(e))&&(s&&(s+=" "),s+=a);return s}},73790:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/home-page-9ea906bb66d3eff491057183d438f9a7.png"},28453:(e,a,n)=>{n.d(a,{R:()=>o,x:()=>i});var t=n(96540);const s={},r=t.createContext(s);function o(e){const a=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:a},e.children)}}}]);