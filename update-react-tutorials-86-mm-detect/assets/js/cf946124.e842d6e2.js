"use strict";(self.webpackChunkmetamask_docs=self.webpackChunkmetamask_docs||[]).push([[5246],{15680:(e,t,n)=>{n.d(t,{xA:()=>d,yg:()=>g});var r=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,g=c["".concat(l,".").concat(m)]||c[m]||u[m]||o;return n?r.createElement(g,i(i({ref:t},d),{},{components:n})):r.createElement(g,i({ref:t},d))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:a,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},10665:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=n(58168),a=(n(96540),n(15680));const o={description:"Create a single component React dapp with local state using EIP-6963 for Multi Injected Provider Discovery.",toc_max_heading_level:4,sidebar_position:1},i="Create a React dapp with local state",s={unversionedId:"tutorials/react-dapp-local-state",id:"tutorials/react-dapp-local-state",title:"Create a React dapp with local state",description:"Create a single component React dapp with local state using EIP-6963 for Multi Injected Provider Discovery.",source:"@site/wallet/tutorials/react-dapp-local-state.md",sourceDirName:"tutorials",slug:"/tutorials/react-dapp-local-state",permalink:"/update-react-tutorials-86-mm-detect/wallet/tutorials/react-dapp-local-state",draft:!1,editUrl:"https://github.com/MetaMask/metamask-docs/edit/main/wallet/tutorials/react-dapp-local-state.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{description:"Create a single component React dapp with local state using EIP-6963 for Multi Injected Provider Discovery.",toc_max_heading_level:4,sidebar_position:1},sidebar:"walletSidebar",previous:{title:"Tutorials",permalink:"/update-react-tutorials-86-mm-detect/wallet/tutorials"},next:{title:"Create a React dapp with global state",permalink:"/update-react-tutorials-86-mm-detect/wallet/tutorials/react-dapp-global-state"}},l={},p=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Steps",id:"steps",level:2},{value:"1. Set up the project",id:"1-set-up-the-project",level:3},{value:"2. Detect Multiple Wallet Providers",id:"2-detect-multiple-wallet-providers",level:3},{value:"Showing the Connected Wallet Address",id:"showing-the-connected-wallet-address",level:2},{value:"Doesn&#39;t Look Right?",id:"doesnt-look-right",level:3},{value:"Doesn&#39;t Function Properly?",id:"doesnt-function-properly",level:3},{value:"What&#39;s Next?",id:"whats-next",level:2},{value:"Conclusion",id:"conclusion",level:2}],d={toc:p},c="wrapper";function u(e){let{components:t,...n}=e;return(0,a.yg)(c,(0,r.A)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"create-a-react-dapp-with-local-state"},"Create a React dapp with local state"),(0,a.yg)("p",null,"This tutorial walks you through integrating a simple React dapp with MetaMask. The dapp has a single JSX component, which we use for state management locally. There is a ",(0,a.yg)("a",{parentName:"p",href:"/wallet/tutorials/react-dapp-global-state"},"part 2")," that is more component-oriented and uses global state."),(0,a.yg)("p",null,"You'll use the ",(0,a.yg)("a",{parentName:"p",href:"https://v3.vitejs.dev/guide"},"Vite")," build tool with React and TypeScript to create\nthe dapp."),(0,a.yg)("admonition",{title:"Why React?",type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"React is familiar to most web developers and pretty standard within Web3. It makes it easy to work with state management, build components that use a one-way data flow, and re-render those components upon state changes.")),(0,a.yg)("admonition",{title:"Project source code",type:"info"},(0,a.yg)("p",{parentName:"admonition"},"Source code:",(0,a.yg)("br",{parentName:"p"}),"\n",(0,a.yg)("a",{parentName:"p",href:"https://github.com/MetaMask/mm-dapp-react-6963"},"mm-dapp-react-6963"))),(0,a.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://nodejs.org/"},"Node.js")," version 18+"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm"},"npm")," version 9+"),(0,a.yg)("li",{parentName:"ul"},"A text editor (for example, ",(0,a.yg)("a",{parentName:"li",href:"https://code.visualstudio.com/"},"VS Code"),")"),(0,a.yg)("li",{parentName:"ul"},"The ",(0,a.yg)("a",{parentName:"li",href:"https://metamask.io/download"},"MetaMask extension")," installed"),(0,a.yg)("li",{parentName:"ul"},"Basic knowledge of JavaScript and React")),(0,a.yg)("h2",{id:"steps"},"Steps"),(0,a.yg)("h3",{id:"1-set-up-the-project"},"1. Set up the project"),(0,a.yg)("p",null,"Set up a new project using Vite, React, and TypeScript by running the following command:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"npm create vite@latest mm-dapp-react -- --template react-ts\n")),(0,a.yg)("p",null,"Install the node module dependencies:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"cd mm-dapp-react && npm install\n")),(0,a.yg)("p",null,"Launch the development server:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"npm run dev\n")),(0,a.yg)("p",null,"This displays a ",(0,a.yg)("inlineCode",{parentName:"p"},"localhost")," URL in your terminal, which can be CMD + Clicked on to view the dapp in your browser."),(0,a.yg)("admonition",{type:"note"},(0,a.yg)("p",{parentName:"admonition"},"If the development server has been stopped, you can run your project using the ",(0,a.yg)("inlineCode",{parentName:"p"},"npx vite")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"npm run dev")," command.")),(0,a.yg)("p",null,"Open the project in your editor editor.\nTo start with a blank slate, replace the code in ",(0,a.yg)("inlineCode",{parentName:"p"},"src/App.tsx")," with the following:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'import "./App.css"\n\nconst App = () => {\n  return (\n    <div className="App">\n      <h2>Wallets Detected:</h2>\n    </div>\n  )\n}\n\nexport default App\n')),(0,a.yg)("p",null,"We will need basic styling for the ",(0,a.yg)("inlineCode",{parentName:"p"},"App")," class (the outermost ",(0,a.yg)("inlineCode",{parentName:"p"},"div")," in our dapp). I also added new styles like ",(0,a.yg)("inlineCode",{parentName:"p"},"metaMaskError")," for a component that we will make last for displaying errors when connecting to Metamask. The ",(0,a.yg)("inlineCode",{parentName:"p"},"providers")," class will create a container ",(0,a.yg)("inlineCode",{parentName:"p"},"div")," allowing us to display many buttons for each provider in a flex column using rows (default for flexbox if not specified). We also set a width on the buttons and icons to ensure they stay uniform regardless of the original size."),(0,a.yg)("p",null,"Update ",(0,a.yg)("inlineCode",{parentName:"p"},"src/App.css")," to the following:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-css",metastring:'title="App.css"',title:'"App.css"'},".App {\n  min-width: 100vw;\n  min-height: 100vh;\n  text-align: center;\n}\n\n.metaMaskError {\n  height: 36px;\n  padding: 16px;\n  color: #EFEFEF;\n  background-color: transparent;\n}\n\n.providers {\n  display: flex;\n  flex-flow: column wrap;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n  gap: 1em;\n\n  padding: 0.6em 1.2em;\n}\n\n.providers button {\n  width: 12em;\n}\n\n.providers button img {\n  width: 2em;\n}\n")),(0,a.yg)("h3",{id:"2-detect-multiple-wallet-providers"},"2. Detect Multiple Wallet Providers"),(0,a.yg)("p",null,"We will use the most up-to-date way of detecting wallet providers with EIP-6963."),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-6963"},"Why EIP-6963"),": The current method where browser extensions inject Ethereum providers (EIP-1193) into ",(0,a.yg)("inlineCode",{parentName:"p"},"window.ethereum")," leads to conflicts when multiple extensions are installed, due to a race condition that favours the last loaded wallet. These issues create an undesirable user experience. EIP-6963 improves interoperability and user experience by introducing a two-way communication protocol via ",(0,a.yg)("inlineCode",{parentName:"p"},"window")," events, enabling discovery and users to connect to their preferred wallet provider through a unique identifier.")),(0,a.yg)("p",null,"The first code we need to update is our environment variable file.\nTo use EIP-6963, we will import the types and interfaces needed for EIP-6963 and EIP-1193. "),(0,a.yg)("p",null,"Update the ",(0,a.yg)("inlineCode",{parentName:"p"},"src/vite-env.d.ts")," to the following:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="vite-env.d.ts"',title:'"vite-env.d.ts"'},'/// <reference types="vite/client" />\n\n// Describes metadata related to a provider according to EIP-6963\ninterface EIP6963ProviderInfo {\n  walletId: string\n  uuid: string\n  name: string\n  icon: string\n}\n\n// Represents the structure of an Ethereum provider based on the EIP-1193 standard\ninterface EIP1193Provider {\n  isStatus?: boolean\n  host?: string\n  path?: string\n  sendAsync?: (request: { method: string, params?: Array<unknown> }, callback: (error: Error | null, response: unknown) => void) => void\n  send?: (request: { method: string, params?: Array<unknown> }, callback: (error: Error | null, response: unknown) => void) => void\n  request: (request: { method: string, params?: Array<unknown> }) => Promise<unknown>\n}\n\n// Combines the provider\'s metadata with an actual provider object\n// Creating a complete picture of a wallet provider at a glance and for purposes of working with them\ninterface EIP6963ProviderDetail {\n  info: EIP6963ProviderInfo\n  provider: EIP1193Provider\n}\n\n// This type represents the structure of an event dispatched by a wallet to announce its presence based on EIP-6963\ntype EIP6963AnnounceProviderEvent = {\n  detail:{\n    info: EIP6963ProviderInfo\n    provider: EIP1193Provider\n  }\n}\n\n// An error object with optional properties, commonly encountered when handling MetaMask `eth_requestAccounts` errors\ninterface MMError {\n  code?: string\n  message?: string\n}\n')),(0,a.yg)("p",null,"We'll create a store file to manage the state of detected wallet providers across our application. This file provides a centralized place to store and synchronize the detected wallet providers, ensuring that our application always has access to the latest provider information. Comments within the code explain its various parts (feel free to remove them if you like):"),(0,a.yg)("p",null,"Add the following code to ",(0,a.yg)("inlineCode",{parentName:"p"},"src/hooks/store.ts"),":"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="store.ts"',title:'"store.ts"'},'// Extends WindowEventMap interface, including a custom event: "eip6963:announceProvider"\ndeclare global{\n  interface WindowEventMap {\n    "eip6963:announceProvider": CustomEvent\n  }\n}\n\n// Array that stores detected wallet providers and their details\nlet providers: EIP6963ProviderDetail[] = []\n\n// Object containing two methods, the store holds the state of detected Ethereum wallet providers,\n// It\'s implemented as an external store, making it available for subscription and synchronization across the dapp\nexport const store = {\n  // Returns the current state of providers\n  value: ()=> providers,\n  // Subscribes to provider announcements and updates the store accordingly\n  // Takes a callback function to be invoked on each store update, returning a function to unsubscribe from the event\n  subscribe: (callback: ()=> void) => {\n    function onAnnouncement(event: EIP6963AnnounceProviderEvent){\n      if(providers.map(p => p.info.uuid).includes(event.detail.info.uuid)) return\n      providers = [...providers, event.detail]\n      callback()\n    }\n    window.addEventListener("eip6963:announceProvider", onAnnouncement);\n    window.dispatchEvent(new Event("eip6963:requestProvider"));\n\n    return () => window.removeEventListener("eip6963:announceProvider", onAnnouncement)\n  }\n}\n')),(0,a.yg)("p",null,"With the store in place, we will use a custom hook that synchronizes the provider state with the React component. It uses ",(0,a.yg)("a",{parentName:"p",href:"https://react.dev/reference/react/useSyncExternalStore"},"useSyncExternalStore"),' from "react" to subscribe to changes in the provider store and ensure the component re-renders whenever the store updates. '),(0,a.yg)("p",null,"In our example, the external store refers to the store object defined in store.ts. This store object holds the state of detected Ethereum wallet providers."),(0,a.yg)("p",null,"Create the following file at ",(0,a.yg)("inlineCode",{parentName:"p"},"src/hooks/useSyncProviders.ts")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="useSyncProviders.ts"',title:'"useSyncProviders.ts"'},'import { useSyncExternalStore } from "react";\nimport { store } from "./store";\n\nexport const useSyncProviders = ()=> useSyncExternalStore(store.subscribe, store.value, store.value)\n')),(0,a.yg)("p",null,"The useSyncExternalStore hook synchronises the external store (store) with a React component.\nIt takes three arguments:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"A subscription function (store.subscribe in our case) to listen for changes in the external store."),(0,a.yg)("li",{parentName:"ul"},"A function to get the current value of the store (store.value)."),(0,a.yg)("li",{parentName:"ul"},"An initial value for the store (also store.value in our case).")),(0,a.yg)("p",null,"Whenever the external store (store) updates, useSyncExternalStore automatically triggers a re-render of the component with the latest state."),(0,a.yg)("admonition",{type:"note"},(0,a.yg)("p",{parentName:"admonition"},"If we did not have the ",(0,a.yg)("inlineCode",{parentName:"p"},"useSyncExternalStore")," hook from React: We could use ",(0,a.yg)("inlineCode",{parentName:"p"},"useState")," to manage the state of providers and ",(0,a.yg)("inlineCode",{parentName:"p"},"useEffect")," to subscribe to changes in the ",(0,a.yg)("inlineCode",{parentName:"p"},"store"),". When our component mounts, we could subscribe to changes in the ",(0,a.yg)("inlineCode",{parentName:"p"},"store"),", set the initial state using the current value from the ",(0,a.yg)("inlineCode",{parentName:"p"},"store"),", and return a cleanup function to ",(0,a.yg)("inlineCode",{parentName:"p"},"unsubscribe")," from the ",(0,a.yg)("inlineCode",{parentName:"p"},"store")," when the component unmounts.")),(0,a.yg)("p",null,"Next, we want to list our providers as buttons that will connect to the EIP-6963-compliant wallet providers that we find.  "),(0,a.yg)("p",null,"Update ",(0,a.yg)("inlineCode",{parentName:"p"},"src/App.tsx")," to the following:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'import { useSyncProviders } from \'./hooks/useSyncProviders\'\nimport "./App.css"\n\nconst App = () => {\n  const providers = useSyncProviders()\n\n  const handleConnect = async (providerWithInfo: EIP6963ProviderDetail) => {\n    try {\n      const accounts = await providerWithInfo.provider.request({\n        method: \'eth_requestAccounts\'\n      }) as string[]\n\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  return (\n    <div className="App">\n      <h2>Wallets Detected:</h2>\n      <div className="providers">\n        {\n          providers.length > 0 ? providers?.map((provider: EIP6963ProviderDetail) => (\n            <button key={provider.info.uuid} onClick={() => handleConnect(provider)} >\n              <img src={provider.info.icon} alt={provider.info.name} />\n              <div>{provider.info.name}</div>\n            </button>\n          )) :\n            <div>\n              No Announced Wallet Providers\n            </div>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default App\n')),(0,a.yg)("p",null,"To test our application, let's ensure that we are signed in to our MetaMask wallet and that it is not currently connected to our dapp.  "),(0,a.yg)("p",null,"Then we can run:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"npm run dev\n")),(0,a.yg)("p",{align:"center"},"![View of Dapp - Wallets Detected](../assets/react-tutorial-01-final.png)"),(0,a.yg)("p",null,"At this point, we can connect to the wallets installed in our browser."),(0,a.yg)("h2",{id:"showing-the-connected-wallet-address"},"Showing the Connected Wallet Address"),(0,a.yg)("p",null,"Let's indicate when a wallet has been connected to by displaying the user's address on the page."),(0,a.yg)("p",null,"We want to add two ",(0,a.yg)("inlineCode",{parentName:"p"},"useState")," hooks just above the line where we declare our ",(0,a.yg)("inlineCode",{parentName:"p"},"providers")," and add some code during the ",(0,a.yg)("inlineCode",{parentName:"p"},"handleConnect")," function. We also want to add a ",(0,a.yg)("inlineCode",{parentName:"p"},"formatAddress")," function for displaying a readable user address, along with some basic error catching, formatting, display, and a way for the user to click on and dismiss the error message."),(0,a.yg)("p",null,"Update everything above the ",(0,a.yg)("inlineCode",{parentName:"p"},"return")," statement in the ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")," file:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},"import { useState } from 'react'\nimport { useSyncProviders } from './hooks/useSyncProviders'\nimport \"./App.css\"\n\nconst App = () => {\n  const [selectedWallet, setSelectedWallet] = useState<EIP6963ProviderDetail>()\n  const [userAccount, setUserAccount] = useState<string>('')\n  const providers = useSyncProviders()\n\n  const [errorMessage, setErrorMessage] = useState('')\n  const clearError = () => setErrorMessage('')\n  const setError = (error: string) => setErrorMessage(error)\n  const isError = !!errorMessage\n\n  const formatAddress = (addr: string) => {\n    const upperAfterLastTwo = addr.slice(0, 2) + addr.slice(2)\n    return `${upperAfterLastTwo.substring(0, 5)}...${upperAfterLastTwo.substring(39)}`\n  }\n\n  const handleConnect = async (providerWithInfo: EIP6963ProviderDetail) => {\n    try {\n      const accounts = await providerWithInfo.provider.request({\n        method: 'eth_requestAccounts'\n      }) as string[]\n\n      setSelectedWallet(providerWithInfo)\n      setUserAccount(accounts?.[0])\n    } catch (error) {\n      console.error(error)\n      const mmError: MMError = error as MMError\n      setError(`Code: ${mmError.code} \\nError Message: ${mmError.message}`)\n    }\n  }\n  ...\n")),(0,a.yg)("p",null,"Next, in the JSX wrapped by our return statement of the component, we will add some code below the existing provider buttons:"),(0,a.yg)("p",null,"Update the ",(0,a.yg)("inlineCode",{parentName:"p"},"div")," with the class of ",(0,a.yg)("inlineCode",{parentName:"p"},".App")," to the following:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"title",title:!0},'    <div className="App">\n      <h2>Wallets Detected:</h2>\n      <div className="providers">\n        {\n          providers.length > 0 ? providers?.map((provider: EIP6963ProviderDetail) => (\n            <button key={provider.info.uuid} onClick={() => handleConnect(provider)} >\n              <img src={provider.info.icon} alt={provider.info.name} />\n              <div>{provider.info.name}</div>\n            </button>\n          )) :\n            <div>\n              No Announced Wallet Providers\n            </div>\n        }\n      </div>\n      <hr />\n      <h2>{userAccount ? "" : "No"} Wallet Selected</h2>\n      {userAccount &&\n        <div className="selectedWallet">\n          <img src={selectedWallet?.info.icon} alt={selectedWallet?.info.name} />\n          <div>{selectedWallet?.info.name}</div>\n          <div>({formatAddress(userAccount)})</div>\n        </div>\n      }\n      <div className="mmError" style={isError ? { backgroundColor: \'brown\' } : {}}>\n        {isError &&\n          <div onClick={clearError}>\n            <strong>Error:</strong> {errorMessage}\n          </div>\n        }\n      </div>\n    </div>\n')),(0,a.yg)("p",null,"Your dapp should look similar to the following:"),(0,a.yg)("p",{align:"center"},"![Final View of Dapp](../assets/react-tutorial-01-final.png)"),(0,a.yg)("h3",{id:"doesnt-look-right"},"Doesn't Look Right?"),(0,a.yg)("p",null,"As we have created ",(0,a.yg)("inlineCode",{parentName:"p"},"className"),"'s for each section's parent ",(0,a.yg)("inlineCode",{parentName:"p"},"div")," in our JSX (HTML), if your dapp does not look the same but functions properly, consider checking the naming of your classes and their corresponding CSS."),(0,a.yg)("h3",{id:"doesnt-function-properly"},"Doesn't Function Properly?"),(0,a.yg)("p",null,"Check the code examples against your own. Place ",(0,a.yg)("inlineCode",{parentName:"p"},"console")," statements in key areas like ",(0,a.yg)("inlineCode",{parentName:"p"},"handleConnect")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"store"),". Have you made any personal code changes? Clone the repository and run it. If you ever find inconsistencies or erroneous code, feel free to create an issue on our repo, and we will give you credit for the contribution."),(0,a.yg)("h2",{id:"whats-next"},"What's Next?"),(0,a.yg)("p",null,"From here, before iterating anymore, it would be wise to make a list of the additional features and interactions that could be improved. We will cover a few extras when we take our application from mostly working on local state within our ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")," to lifting that state and other functions into global state and abstractions and creating a more component-oriented project."),(0,a.yg)("h2",{id:"conclusion"},"Conclusion"),(0,a.yg)("p",null,"This tutorial walked you through creating a single component dapp using Vite, some basics of\ndetecting wallet providers via EIP-6963 and managing the state in React locally."),(0,a.yg)("p",null,"We also have added functionality to show the wallet connected to it and a function to format the user's address."),(0,a.yg)("p",null,"Dapp Source Code: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/MetaMask/vite-react-local-tutorial"},"vite-react-local-tutorial"),"."),(0,a.yg)("p",null,"As a next step, you can ",(0,a.yg)("a",{parentName:"p",href:"/update-react-tutorials-86-mm-detect/wallet/tutorials/react-dapp-global-state"},"create a React dapp with global state"),".  This follow-up tutorial walks you through adding more than one component and working with global state.  You'll use ",(0,a.yg)("a",{parentName:"p",href:"https://react.dev/reference/react/useContext"},"React's Context API")," to manage the state globally and ensure that any component in your dapp can be aware and conditionally render or display information about your MetaMask wallet."))}u.isMDXComponent=!0}}]);